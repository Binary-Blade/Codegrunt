from api.openai_helpers import OpenAIHelpers
from config.language_options import LANGUAGE_EXTENSIONS


class ExerciseGenerator:
    def __init__(self, language: str, subject: str):
        self.language = language.lower()
        self.subject = subject
        self.open_ai_api = OpenAIHelpers()

    def generate_content(self) -> str:
        if self.language in LANGUAGE_EXTENSIONS:
            _, language_name = LANGUAGE_EXTENSIONS[self.language]
            try:
                return self.open_ai_api.generated_exercice(self.subject, language_name)
            except Exception as e:
                print(f"An error occurred during content generation: {e}")
                return None
        else:
            print(f"Invalid language '{self.language}'.")
            return None
